import{S as I,B,o as $,V as L,L as A,C as z,i as w,s as P,k as F,n as T,M as y,m as q,j as O,a as V,c as _,b as E,d as N,p as G}from"./makeScene2D-cf99b3aa.js";import{h as u,b as l,M as D,w as H,V as J}from"./Vector-861d74d7.js";var K=globalThis&&globalThis.__decorate||function(a,t,e,i){var n=arguments.length,s=n<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(a,t,e,i);else for(var o=a.length-1;o>=0;o--)(r=a[o])&&(s=(n<3?r(s):n>3?r(t,e,s):r(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s};class d extends I{constructor(t,e,i,n,s,r){super(),this.startPoint=t,this.radius=e,this.xAxisRotationDegree=i,this.largeArcFlag=n,this.sweepFlag=s,this.endPoint=r,this.xAxisRotation=this.xAxisRotationDegree*u,this.radius=new l(Math.abs(e.x),Math.abs(e.y));const o=t.sub(r).div(2).transform(D.fromRotation(-i).domMatrix),h=o.x*o.x/(e.x*e.x)+o.y*o.y/(e.y*e.y);if(h>1){const R=Math.sqrt(h);e.x=R*e.x,e.y=R*e.y}const c=new l(e.ctg*o.y,e.perpendicular.ctg*o.x).scale(Math.sqrt(1/(o.x*o.x/(e.x*e.x)+o.y*o.y/(e.y*e.y))-1)*(n===s?-1:1));this.xAxisRotationMatrix=D.fromRotation(i).domMatrix,this.center=c.transform(this.xAxisRotationMatrix).add(t.add(r).div(2));const g=o.sub(c).div(e),j=o.scale(-1).sub(c).div(e);this.startAngle=g.radians,this.deltaAngle=l.angleBetween(g,j)%(Math.PI*2),this.sweepFlag===0&&this.deltaAngle>0&&(this.deltaAngle-=Math.PI*2),this.sweepFlag===1&&this.deltaAngle<0&&(this.deltaAngle+=Math.PI*2),d.el.setAttribute("d",`M ${this.startPoint.x} ${this.startPoint.y} A ${this.radius.x} ${this.radius.y} ${this.xAxisRotationDegree} ${this.largeArcFlag} ${this.sweepFlag} ${this.endPoint.x} ${this.endPoint.y}`),this.length=d.el.getTotalLength();const b=new B(d.el.getBBox());this.points=[b.topLeft,b.bottomRight]}getAnglePosition(t){return this.radius.mul(l.fromRadians(t)).transform(this.xAxisRotationMatrix).add(this.center)}getAngleDerivative(t){return new l(-this.radius.x*Math.sin(t),this.radius.y*Math.cos(t)).transform(this.xAxisRotationMatrix)}draw(t,e,i,n){const s=this.startAngle+this.deltaAngle*e,r=this.startAngle+this.deltaAngle*i,o=this.getPoint(e),h=this.getPoint(i);return n&&t.moveTo(o.position.x,o.position.y),t.ellipse(this.center.x,this.center.y,this.radius.x,this.radius.y,this.xAxisRotation,s,r,this.sweepFlag===0),[o,h]}getPoint(t){const e=this.startAngle+t*this.deltaAngle,i=this.getAngleDerivative(e).normalized;return{position:t===0?this.startPoint:t===1?this.endPoint:this.getAnglePosition(e),tangent:i,normal:i.perpendicular}}get arcLength(){return this.length}}K([$(()=>{const a=document.createElementNS("http://www.w3.org/2000/svg","svg"),t=document.createElementNS("http://www.w3.org/2000/svg","path");return a.appendChild(t),L.shadowRoot.appendChild(a),t})],d,"el",void 0);function Q(a,t,e,i,n=!1){const s={arcLength:0,minSin:1,segments:[]};if(e<t){const g=Math.floor((t-e)/(Math.PI*2))+1;e+=Math.PI*2*g}else if(e>t+Math.PI*2){const g=Math.floor((e-t)/(Math.PI*2));e-=Math.PI*2*g}const r=(t+e)/2,o=a.mul(l.fromRadians(t)),h=a.mul(l.fromRadians(e)),c=a.mul(l.fromRadians(r)).scale(n?-1:1);return i&&m(s,new A(l.zero,o)),S(s,a,o,c,t,r,n),S(s,a,c,h,r,e,n),i&&m(s,new A(h,l.zero)),s}function m(a,t){a.segments.push(t),a.arcLength+=t.arcLength}function S(a,t,e,i,n,s,r){const o=Math.abs(n-s)<=180?1:0,h=n>s?0:1,c=r?0:1;m(a,new d(e,t,0,0,o^c^h,i))}var x=globalThis&&globalThis.__decorate||function(a,t,e,i){var n=arguments.length,s=n<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(a,t,e,i);else for(var o=a.length-1;o>=0;o--)(r=a[o])&&(s=(n<3?r(s):n>3?r(t,e,s):r(t,e))||s);return n>3&&s&&Object.defineProperty(t,e,s),s};let f=class extends z{constructor(t){super(t)}profile(){return Q(this.size().scale(.5),this.startAngle()*u,this.endAngle()*u,this.closed(),this.counterclockwise())}desiredSize(){return{x:this.width.context.getter(),y:this.height.context.getter()}}offsetComputedLayout(t){return t}childrenBBox(){return B.fromSizeCentered(this.computedSize())}getPath(){return this.requiresProfile()?this.curveDrawingInfo().path:this.createPath()}getRipplePath(){return this.createPath(this.rippleSize())}getCacheBBox(){return super.getCacheBBox().expand(this.rippleSize())}createPath(t=0){const e=new Path2D,i=this.startAngle()*u;let n=this.endAngle()*u;const s=this.size().scale(.5).add(t),r=this.closed();if(n>i+Math.PI*2){const o=Math.floor((n-i)/(Math.PI*2));n-=Math.PI*2*o}return r&&e.moveTo(0,0),e.ellipse(0,0,s.x,s.y,0,i,n,this.counterclockwise()),r&&e.closePath(),e}};x([w(0),P()],f.prototype,"startAngle",void 0);x([w(360),P()],f.prototype,"endAngle",void 0);x([w(!1),P()],f.prototype,"counterclockwise",void 0);x([F()],f.prototype,"profile",null);f=x([T("Circle")],f);let v;v??(v=new y("project",!1));v.loadData({version:0,shared:{background:"rgba(255,255,255,0)",range:[0,null],size:{x:1920,y:1080},audioOffset:0},preview:{fps:30,resolutionScale:1},rendering:{fps:60,resolutionScale:1,colorSpace:"srgb",exporter:{name:"@motion-canvas/core/image-sequence",options:{fileType:"image/png",quality:100,groupByScene:!1}}}});const U=v;let M;M??(M=new y("example",!1));M.loadData({version:0,timeEvents:[],seed:2691595226});const W=M,p=q(function*(a){const t=_();a.add(O(f,{ref:t,x:-300,width:140,height:140,fill:"#e13238"})),yield*V(t().position.x(300,1).to(-300,1),t().fill("#e6a700",1).to("#e13238",1)),yield*H(30)});p.name="example";W.attach(p.meta);p.onReplaced??(p.onReplaced=new J(p.config));const X=E({scenes:[p]}),C=new y("settings","\0settings");C.loadData({version:1,appearance:{color:"rgb(255,255,255)",font:!1,coordinates:!0},defaults:{background:"rgb(0,0,0)",size:{x:1920,y:1080}}});const tt=N("project",{core:"3.13.0",two:"3.13.0",ui:"3.13.0",vitePlugin:"3.13.0"},[G()],X,U,C);export{tt as default};
